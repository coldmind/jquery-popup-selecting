/* [jquery popup selecting] ver:1.0.0, author:Andriy Sokolovskiy (sokandpal@yandex.ru)*/
(function(b){b.fn.popselect=function(h){var c=this,a=b.extend({showKey:32,leftKey:37,rightKey:39,activateKey:13,speed:200,doActivate:void 0,useShowKey:!1},h),d=0,f=c.children().length,g=function(a){switch(a){case "right":d+=1;break;case "left":d-=1}f===d&&(d=f-1);0>d&&(d=0);c.children().removeClass("selected").each(function(a,c){a===d&&b(c).addClass("selected")})};b("html").click(function(){c.hide()});c.click(function(a){a.stopPropagation()});c.children(":first").addClass("selected");c.children().each(function(j, e){b(e).on("mouseover",function(){c.children().removeClass("selected");b(e).addClass("selected");d=j});b(e).click(function(){"undefined"!==typeof a.doActivate&&a.doActivate()})});b(document).on("keyup",function(d){var b=c.is(":visible");switch(d.which){case a.showKey:a.useShowKey&&(b?c.hide(a.speed):c.show(a.speed));break;case a.rightKey:b&&g("right");break;case a.leftKey:b&&g("left");break;case a.activateKey:b&&"undefined"!==typeof a.doActivate&&a.doActivate()}})}})(jQuery);